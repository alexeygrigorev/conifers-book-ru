# –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏ –∫–Ω–∏–≥–∏

## –î–ª—è —á–∏—Ç–∞—Ç–µ–ª–µ–π

### –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –∫–Ω–∏–≥—É

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É [Releases](../../releases)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
3. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
   - **conifers-book.epub** ‚Äî –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–Ω–∏–≥ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - **conifers-book.mobi** ‚Äî –¥–ª—è Amazon Kindle
   - **conifers-book.pdf** ‚Äî –¥–ª—è —á—Ç–µ–Ω–∏—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏–ª–∏ –ø–µ—á–∞—Ç–∏

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–ª–∏–∑–∞

–ö–æ–≥–¥–∞ –∫–Ω–∏–≥–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏:

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
git add .
git commit -m "–§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è —Ä–µ–ª–∏–∑–∞"
git push

# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, v1.0)
git tag -a v1.0 -m "–ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ –∫–Ω–∏–≥–∏"

# –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–≥ –Ω–∞ GitHub
git push origin v1.0
```

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–≥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è GitHub Actions workflow, –∫–æ—Ç–æ—Ä—ã–π:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Pandoc, Calibre, LaTeX)
2. –°–æ–±–µ—Ä—ë—Ç –∫–Ω–∏–≥—É –≤–æ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö (EPUB, MOBI, PDF)
3. –°–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑ –Ω–∞ GitHub
4. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∫ —Ä–µ–ª–∏–∑—É

–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 5-10 –º–∏–Ω—É—Ç. –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –º–æ–∂–Ω–æ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "Actions" –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install pandoc calibre texlive-xetex texlive-fonts-recommended texlive-lang-cyrillic fonts-dejavu
```

**macOS:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Homebrew, –µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: https://brew.sh
brew install pandoc
brew install --cask calibre
brew install --cask mactex
```

**Windows:**
- –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Pandoc](https://pandoc.org/installing.html)
- –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Calibre](https://calibre-ebook.com/download)
- –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [MiKTeX](https://miktex.org/download) –∏–ª–∏ [TeX Live](https://www.tug.org/texlive/)

#### –°–±–æ—Ä–∫–∞ –∫–Ω–∏–≥–∏

```bash
# –°–æ–±—Ä–∞—Ç—å –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã
make all

# –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ EPUB
make epub

# –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ MOBI (—Ç—Ä–µ–±—É–µ—Ç EPUB)
make mobi

# –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ PDF
make pdf

# –û—á–∏—Å—Ç–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
make clean

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
make help
```

–°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `build/`.

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
chapters/
‚îú‚îÄ‚îÄ 00-introduction.md              # –í–≤–µ–¥–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ 01-birth-of-conifers.md         # –ì–ª–∞–≤–∞ 1: –†–æ–∂–¥–µ–Ω–∏–µ —Ö–≤–æ–π–Ω—ã—Ö
‚îú‚îÄ‚îÄ 02-epochs.md                     # –ì–ª–∞–≤–∞ 2: –≠–ø–æ—Ö–∏ —Ä–∞—Å—Ü–≤–µ—Ç–∞
‚îú‚îÄ‚îÄ 03-conifers-and-humans.md       # –ì–ª–∞–≤–∞ 3: –•–≤–æ–π–Ω—ã–µ –∏ —á–µ–ª–æ–≤–µ–∫
‚îú‚îÄ‚îÄ 04-pinaceae.md                   # –ì–ª–∞–≤–∞ 4: –°–æ—Å–Ω–æ–≤—ã–µ
‚îú‚îÄ‚îÄ 05-cupressaceae.md               # –ì–ª–∞–≤–∞ 5: –ö–∏–ø–∞—Ä–∏—Å–æ–≤—ã–µ
‚îú‚îÄ‚îÄ 06-09-rare-families.md           # –ì–ª–∞–≤—ã 6-9: –î—Ä—É–≥–∏–µ —Å–µ–º–µ–π—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ 10-12-internal-life.md           # –ì–ª–∞–≤—ã 10-12: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∂–∏–∑–Ω—å
‚îú‚îÄ‚îÄ 13-17-world-and-future.md        # –ì–ª–∞–≤—ã 13-17: –ú–∏—Ä –≤–æ–∫—Ä—É–≥ –∏ –±—É–¥—É—â–µ–µ
‚îî‚îÄ‚îÄ 18-conclusion-appendices.md      # –ü–æ—Å–ª–µ—Å–ª–æ–≤–∏–µ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—è [Markdown —Å–∏–Ω—Ç–∞–∫—Å–∏—Å](https://www.markdownguide.org/basic-syntax/)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É –∑–∞–Ω–æ–≤–æ: `make epub`

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

1. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `images/`
2. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ç–µ–∫—Å—Ç:
   ```markdown
   ![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](images/your-image.png)
   ```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `metadata.yaml`:
```yaml
---
title: "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏"
subtitle: "–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫"
author: "–ê–≤—Ç–æ—Ä"
lang: ru
date: 2024
---
```

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –û—à–∏–±–∫–∞: "pandoc: command not found"
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Pandoc —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ.

#### –û—à–∏–±–∫–∞: "ebook-convert: command not found"
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Calibre. MOBI –º–æ–∂–Ω–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.

#### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω XeLaTeX –∏ —Ä—É—Å—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã:
```bash
sudo apt-get install texlive-xetex texlive-lang-cyrillic fonts-dejavu
```

#### GitHub Actions –Ω–µ —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–ª–∏–∑
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–µ–≥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 'v' (–Ω–∞–ø—Ä–∏–º–µ—Ä, v1.0, v2.1)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ Actions
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ build.sh

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≥–ª–∞–≤ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `scripts/build.sh`
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `CHAPTERS=(`
3. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –≥–ª–∞–≤
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É

–ü—Ä–∏–º–µ—Ä:
```bash
CHAPTERS=(
    "chapters/00-introduction.md"
    "chapters/01-new-chapter.md"  # –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –≥–ª–∞–≤–∞
    "chapters/02-epochs.md"
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≥–ª–∞–≤—ã
)
```

## –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

1. –°–æ–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É –ª–æ–∫–∞–ª—å–Ω–æ: `make all`
2. –û—Ç–∫—Ä–æ–π—Ç–µ EPUB –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–ª—è —á—Ç–µ–Ω–∏—è (Calibre, Apple Books, etc.)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–ª–∞–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. –ï—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ ‚Äî —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ–≥ –∏ —Ä–µ–ª–∏–∑

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ö–µ–º–∞ –≤–µ—Ä—Å–∏–π:
- `v1.0` ‚Äî –ø–µ—Ä–≤—ã–π –ø–æ–ª–Ω—ã–π —Ä–µ–ª–∏–∑
- `v1.1` ‚Äî –Ω–µ–±–æ–ª—å—à–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- `v2.0` ‚Äî –∫—Ä—É–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —á–∞—Å—Ç–µ–π

### –†–∞–±–æ—Ç–∞ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
git status

# –î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
git add chapters/01-birth-of-conifers.md

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git commit -m "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–ø–µ—á–∞—Ç–∫–∏ –≤ –≥–ª–∞–≤–µ 1"

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub
git push
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Pandoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://pandoc.org/MANUAL.html)
- [Markdown guide](https://www.markdownguide.org/)
- [Calibre documentation](https://manual.calibre-ebook.com/)
- [GitHub Actions documentation](https://docs.github.com/en/actions)

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [Issues](../../issues) ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –≤–æ–ø—Ä–æ—Å —É–∂–µ –æ–±—Å—É–∂–¥–∞–ª—Å—è
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

–£–¥–∞—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ –∫–Ω–∏–≥–∏! üìöüå≤
